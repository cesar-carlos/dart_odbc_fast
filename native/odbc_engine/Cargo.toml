[package]
name = "odbc_engine"
version = "0.1.0"
edition = "2021"
authors = ["ODBC Fast Team"]
description = "Enterprise-grade ODBC data platform engine"
license = "MIT OR Apache-2.0"
repository = "https://github.com/odbc-fast/dart_odbc_fast"
build = "build.rs"
keywords = ["odbc", "database", "sql", "ffi", "dart"]
categories = ["database", "api-bindings"]

[lib]
crate-type = ["cdylib", "rlib"]

[features]
default = ["test-helpers"]
sqlserver-bcp = []
# Load .env in lib and integration tests (needs dotenvy).
test-helpers = ["dep:dotenvy"]
# Enables FFI tests (concurrent_error_test, e2e_savepoint_test FFI parts).
# FFI symbols may not be visible in all build configs.
ffi-tests = []

[dependencies]
odbc-api = "20.1.1"
r2d2 = "0.8"
rayon = "1.8"
tokio = { version = "1.0", features = ["rt", "rt-multi-thread"] }
thiserror = "2.0"
log = "0.4"
lru = "0.12"
zeroize = { version = "1.7", features = ["zeroize_derive"] }
lazy_static = "1.5"
zstd = "0.13"
lz4 = "1.24"
ureq = "2.9"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
dotenvy = { version = "0.15", optional = true }

[dev-dependencies]
env_logger = "0.11"
criterion = { version = "0.5", features = ["html_reports"] }
serial_test = "3"

[[bench]]
name = "bulk_operations_bench"
harness = false

[build-dependencies]
cbindgen = "0.29.2"
